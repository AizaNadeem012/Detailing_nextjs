(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1844],{153:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ListingEdit",function(){return s(4089)}])},7095:function(e,t,s){"use strict";s.d(t,{I:function(){return d}});var a=s(5893),r=s(7294),i=s(7742);let d=r.forwardRef((e,t)=>{let{className:s,type:r,...d}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...d})});d.displayName="Input"},7825:function(e,t,s){"use strict";s.d(t,{_:function(){return l}});var a=s(5893),r=s(7294),i=s(9489),d=s(2003),n=s(7742);let o=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.f,{ref:t,className:(0,n.cn)(o(),s),...r})});l.displayName=i.f.displayName},2987:function(e,t,s){"use strict";s.d(t,{pm:function(){return m}});var a=s(7294);let r=0,i=new Map,d=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?d(s):e.toasts.forEach(e=>{d(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function c(e){l=n(l,e),o.forEach(e=>{e(l)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(l);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},4089:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return O}});var a=s(5893),r=s(7294),i=s(1677),d=s(8226),n=s(6431),o=s(9115),l=s(9763),c=s(62),u=s(9972),m=s(5364),p=s(7095),f=s(7825),x=s(4243),w=s(9934),h=s(7493),y=s(906),b=s(7742);let g=x.fC;x.ZA;let N=x.B4,j=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(x.xz,{ref:t,className:(0,b.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(x.JO,{asChild:!0,children:(0,a.jsx)(w.Z,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=x.xz.displayName;let v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(x.u_,{ref:t,className:(0,b.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})});v.displayName=x.u_.displayName;let S=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(x.$G,{ref:t,className:(0,b.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})});S.displayName=x.$G.displayName;let _=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...d}=e;return(0,a.jsx)(x.h_,{children:(0,a.jsxs)(x.VY,{ref:t,className:(0,b.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...d,children:[(0,a.jsx)(v,{}),(0,a.jsx)(x.l_,{className:(0,b.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(S,{})]})})});_.displayName=x.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(x.__,{ref:t,className:(0,b.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=x.__.displayName;let k=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(x.ck,{ref:t,className:(0,b.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(x.wU,{children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(x.eT,{children:r})]})});k.displayName=x.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(x.Z0,{ref:t,className:(0,b.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=x.Z0.displayName;var T=s(2987);function E(e){let{listings:t,onSave:s}=e,{id:d}=(0,o.UO)(),n=(0,o.s0)(),{toast:x}=(0,T.pm)(),[w,h]=(0,r.useState)(!1),[y,b]=(0,r.useState)({website:"",keyword:"",password:"",status:"Pending"}),[v,S]=(0,r.useState)({}),E=!!d;(0,r.useEffect)(()=>{if(d){let e=t.find(e=>e.id===d);e&&b({website:e.website,keyword:e.keyword,password:e.password,status:e.status})}},[d,t]);let A=()=>{let e={};return y.website.trim()?/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}/.test(y.website)||(e.website="Please enter a valid website URL"):e.website="Website URL is required",y.keyword.trim()||(e.keyword="Keyword is required"),y.password.trim()||(e.password="Password is required"),S(e),0===Object.keys(e).length};return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-xl mx-auto",children:[(0,a.jsxs)(m.z,{variant:"ghost",onClick:()=>n("/listings"),className:"mb-6",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Back to Listings"]}),(0,a.jsxs)("div",{className:"bg-card rounded-2xl p-8 shadow-card",children:[(0,a.jsx)("h2",{className:"text-h2 font-heading font-bold text-foreground mb-6",children:E?"Edit Listing":"Add New Listing"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A()&&(s({...d&&{id:d},...y}),x({title:E?"Listing Updated":"Listing Added",description:"".concat(y.website," has been ").concat(E?"updated":"added"," successfully.")}),n("/listings"))},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f._,{htmlFor:"website",children:"Website URL"}),(0,a.jsx)(p.I,{id:"website",type:"text",placeholder:"e.g., bizify.co.uk",value:y.website,onChange:e=>b({...y,website:e.target.value}),className:v.website?"border-destructive":""}),v.website&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:v.website})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f._,{htmlFor:"keyword",children:"Keyword"}),(0,a.jsx)(p.I,{id:"keyword",type:"text",placeholder:"e.g., mobile car detailing services near me",value:y.keyword,onChange:e=>b({...y,keyword:e.target.value}),className:v.keyword?"border-destructive":""}),v.keyword&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:v.keyword})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f._,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.I,{id:"password",type:w?"text":"password",placeholder:"Enter password",value:y.password,onChange:e=>b({...y,password:e.target.value}),className:v.password?"border-destructive pr-10":"pr-10"}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:w?(0,a.jsx)(c.Z,{className:"w-4 h-4"}):(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]}),v.password&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:v.password})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(g,{value:y.status,onValueChange:e=>b({...y,status:e}),children:[(0,a.jsx)(j,{children:(0,a.jsx)(N,{placeholder:"Select status"})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(k,{value:"Pending",children:"Pending"}),(0,a.jsx)(k,{value:"Submitted",children:"Submitted"})]})]})]}),(0,a.jsx)(m.z,{type:"submit",variant:"hero",className:"w-full",children:E?"Update Listing":"Save Listing"})]})]})]})}let A=[{id:"1",website:"bizify.co.uk",keyword:"demo keyword 1",password:"demo@123",status:"Pending"},{id:"2",website:"uksmallbusinessdirectory.co.uk",keyword:"mobile car detailing services near me",password:"srvdetailing1.com",status:"Submitted"}];var O=()=>{let[e,t]=(0,r.useState)(()=>{{let e=localStorage.getItem("listings");return e?JSON.parse(e):A}});return(0,r.useEffect)(()=>{localStorage.setItem("listings",JSON.stringify(e))},[e]),(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(d.w,{}),(0,a.jsx)("main",{className:"pt-24 pb-16",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,a.jsx)(E,{listings:e,onSave:s=>{s.id?t(e.map(e=>e.id===s.id?{...e,...s}:e)):t([...e,{...s,id:Date.now().toString()}])}})})})}),(0,a.jsx)(n.$,{})]})}}},function(e){e.O(0,[3136,5258,2065,6814,1759,2888,9774,179],function(){return e(e.s=153)}),_N_E=e.O()}]);